# 프로세스와 스레드

- [프로세스와 스레드](#프로세스와-스레드)
  - [프로세스](#프로세스)
  - [스레드](#스레드)
  - [프로세스와 스레드의 주요 차이점](#프로세스와-스레드의-주요-차이점)
  - [JS에서 원시값 객체의 메모리 저장](#js에서-원시값-객체의-메모리-저장)

---

## <span style='background-color: #fff5b1; color: black'>프로세스</span>

- 프로세스는 실행중인 프로그램의 인스턴스로, 독립적인 메모리 공간과 자원 집합을 갖습니다.
- 각 프로세스는 자체 주소 공간, 메모리, 데이터 스택 및 다른 운영 체제 리소스를 가지며, 다른 프로세스에서 접근할 수 없습니다. 이러한 구조는 프로세스 간에 높은 수준의 보호를 제공하며, 하나의 프로세스가 다른 프로세스의 실행을 방해하지 않습니다.

- ### <span style='background-color: #fff5b1; color: black'>프로세스 간 정보 공유하는 방법</span>
  - 공유 메모리 : 여러 프로세스가 동일한 메모리 세그먼트에 접근할 수 있게 합니다.
  - 파이프 : 한 프로세스에서 다른 프로세스로 데이터를 전달하는데 사용됩니다.
  - 소켓 : 네트워크 프로토콜을 통해 서로 다른 시스템의 프로세스 간 통신을 가능하게 합니다.
  - 메시지 큐 : 프로세스나 스레드 간에 데이터를 전달하는 데이터 구조입니다.
  - 메모리맵 : 파일은 파일이나 장치를 메모리의 일부로 대응시키는 메커니즘입니다.

## <span style='background-color: #fff5b1; color: black'>스레드</span>

- 스레드는 프로세스 내에서 실행되는 가장 작은 단위로, 프로세스의 실행 상태를 공유합니다.
- 스레드는 같은 프로세스 내에서 실행되므로 같은 메모리 영역을 공유하며, 이를 통해 통신이 가능합니다. 스레드는 자체 레지스터 세트와 스택을 가지지만, 힙 메모리, 코드, 데이터 및 열린 파일과 같은 시스템 리소스는 공유됩니다.
- ### <span style='background-color: #fff5b1; color: black'>스레드의 메모리 구조</span>

  - 스택(Stack): 스택 영역은 함수의 호출 정보를 저장하는 곳입니다. 함수 호출 시 생성되는 지역 변수, 매개변수, 리턴 값, 리턴 주소 등이 스택 영역에 저장됩니다. 이러한 정보들은 스택 프레임(stack frame)이라는 블록 단위로 관리됩니다. 스택 영역은 LIFO(Last-In-First-Out) 원칙에 따라 데이터를 관리하며, 함수 호출이 종료되면 해당 함수의 스택 프레임이 제거됩니다.

  - 힙(Heap): 힙 영역은 동적 메모리 할당을 위한 공간입니다. 프로그램이 실행되는 도중에 필요한 만큼 메모리를 할당하거나 해제할 수 있습니다. C++, Java와 같은 언어에서는 new, malloc 등의 키워드를 이용해 힙 영역에 메모리를 할당하고, delete, free 등의 키워드로 메모리를 해제합니다.

  - 데이터(Data): 데이터 영역은 프로그램의 전역 변수와 정적(static) 변수가 저장되는 곳입니다. 프로그램이 실행되는 동안에는 이 영역의 데이터가 계속 유지되며, 초기화되지 않은 데이터는 BSS(Block Started by Symbol) 세그먼트에, 초기값이 있는 데이터는 데이터 세그먼트에 저장됩니다.

  - 코드(Code): 코드 영역, 또는 텍스트(Text) 영역은 프로그램의 명령어들이 저장되는 곳입니다. 이 영역에는 기계어로 번역된 프로그램의 코드가 저장됩니다.

## <span style='background-color: #fff5b1; color: black'>프로세스와 스레드의 주요 차이점<span>

- 독립성 : 프로세스는 독립적이며 자신만의 메모리 공간과 시스템 리소스를 가집니다. 반면에 스레드는 프로세스의 메모리 공간과 리소스를 공유합니다.
- 컨텍스트 전환 : 프로세스간 컨텍스트 전환이 스레드 간 전환보다 훨씬 비용이 많이 듭니다. 이는 프로세스 간 전환 시에는 전체 메모리와 시스템 리소스가 재할당되어야 하기 때문입니다.
- 통신 : 프로세스 간 통신은 복잡한 메커니즘을 통해 이루어집니다. 반면에 스레드 간 통신은 같은 프로세스 내에서 메모리를 공유하기 때문에 비교적 간단합니다.
- 오버헤드 : 프로세스는 스레드보다 더 많은 시스템 리소스를 사용합니다. 따라서, 스레드를 생성하고 삭제하는 것은 프로세스를 생성하고 삭제하는 것보다 더 빠르고 효율적입니다.

## <span style='background-color: #fff5b1; color: black'>JS에서 원시값 객체의 메모리 저장<span>

- https://ji-u.tistory.com/21
